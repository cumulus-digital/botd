!function(e){"use strict";function n(n,t,i){"addEventListener"in e?n.addEventListener(t,i,!1):"attachEvent"in e&&n.attachEvent("on"+t,i)}function t(){var n=["moz","webkit","o","ms"],t;for(t=0;t<n.length&&!P;t+=1)P=e[n[t]+"RequestAnimationFrame"];P||a("setup","RequestAnimationFrame not supported")}function i(n){var t="Host page: "+n;return e.top!==e.self&&(t=e.parentIFrame&&e.parentIFrame.getId?e.parentIFrame.getId()+": "+n:"Nested host page: "+n),t}function o(e){return T+"["+i(e)+"]"}function r(e){return L[e]?L[e].log:R}function a(e,n){s("log",e,n,r(e))}function u(e,n){s("info",e,n,r(e))}function c(e,n){s("warn",e,n,!0)}function s(n,t,i,r){!0===r&&"object"==typeof e.console&&console[n](o(t),i)}function f(n){function t(){function e(){p(q),g(j)}o("Height"),o("Width"),y(e,q,"resetPage")}function i(){var e=A.substr(H).split(":");return{iframe:L[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function o(e){var n=Number(L[j]["max"+e]),t=Number(L[j]["min"+e]),i=e.toLowerCase(),o=Number(q[i]);a(j,"Checking "+i+" is in range "+t+"-"+n),t>o&&(o=t,a(j,"Set "+i+" to min value")),o>n&&(o=n,a(j,"Set "+i+" to max value")),q[i]=""+o}function r(){function e(){function e(){var e=0,n=!1;for(a(j,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===t){n=!0;break}return n}function n(){var e=L[j].remoteHost;return a(j,"Checking connection is from: "+e),t===e}return i.constructor===Array?e():n()}var t=n.origin,i=L[j].checkOrigin;if(i&&""+t!="null"&&!e())throw new Error("Unexpected message received from: "+t+" for "+q.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function s(){return T===(""+A).substr(0,H)&&A.substr(H).split(":")[0]in L}function f(){var e=q.type in{"true":1,"false":1,undefined:1};return e&&a(j,"Ignoring init message from meta parent page"),e}function k(e){return A.substr(A.indexOf(":")+N+e)}function F(e){a(j,"MessageCallback passed: {iframe: "+q.iframe.id+", message: "+e+"}"),O("messageCallback",{iframe:q.iframe,message:JSON.parse(e)}),a(j,"--")}function M(){var e=!0;return null===q.iframe&&(c(j,"IFrame ("+q.id+") not found"),e=!1),e}function x(e){var n=e.getBoundingClientRect();return m(j),{x:Math.floor(Number(n.left)+Number(W.x)),y:Math.floor(Number(n.top)+Number(W.y))}}function z(n){function t(){W=u,C(),a(j,"--")}function i(){return{x:Number(q.width)+r.x,y:Number(q.height)+r.y}}function o(){e.parentIFrame?e.parentIFrame["scrollTo"+(n?"Offset":"")](u.x,u.y):c(j,"Unable to scroll to requested position, window.parentIFrame not found")}var r=n?x(q.iframe):{x:0,y:0},u=i();a(j,"Reposition requested from iFrame (offset x:"+r.x+" y:"+r.y+")"),e.top!==e.self?o():t()}function C(){!1!==O("scrollCallback",W)?g(j):h()}function I(n){function t(){var e=x(u);a(j,"Moving to in page link (#"+o+") at x: "+e.x+" y: "+e.y),W={x:e.x,y:e.y},C(),a(j,"--")}function i(){e.parentIFrame?e.parentIFrame.moveToAnchor(o):console.log(j,"In page link #"+o+" not found and window.parentIFrame not found")}var o=n.split("#")[1]||"",r=decodeURIComponent(o),u=document.getElementById(r)||document.getElementsByName(r)[0];u?t():e.top!==e.self?i():consolelog(j,"In page link #"+o+" not found")}function O(e,n){return l(j,e,n)}function R(){switch(L[j].firstRun&&P(),q.type){case"close":d(q.iframe);break;case"message":F(k(6));break;case"scrollTo":z(!1);break;case"scrollToOffset":z(!0);break;case"inPageLink":I(k(9));break;case"reset":b(q);break;case"init":t(),O("initCallback",q.iframe),O("resizedCallback",q);break;default:t(),O("resizedCallback",q)}}function E(e){var n=!0;return L[e]||(n=!1,c(q.type+" No settings for "+e+". Message was: "+A)),n}function S(){for(var e in L)v("iFrame requested init",w(e),document.getElementById(e),e)}function P(){L[j].firstRun=!1}var A=n.data,q={},j=null;"[iFrameResizerChild]Ready"===A?S():s()?(q=i(),j=V=q.id,!f()&&E(j)&&(a(j,"Received: "+A),M()&&r()&&R())):u(j,"Ignored: "+A)}function l(e,n,t){var i=null,o=null;if(L[e]){if(i=L[e][n],"function"!=typeof i)throw new TypeError(n+" on iFrame["+e+"] is not a function");o=i(t)}return o}function d(e){var n=e.id;a(n,"Removing iFrame: "+n),e.parentNode.removeChild(e),l(n,"closedCallback",n),a(n,"--"),delete L[n]}function m(n){null===W&&(W={x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop},a(n,"Get page position: "+W.x+","+W.y))}function g(n){null!==W&&(e.scrollTo(W.x,W.y),a(n,"Set page position: "+W.x+","+W.y),h())}function h(){W=null}function b(e){function n(){p(e),v("reset","reset",e.iframe,e.id)}a(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),m(e.id),y(n,e,"reset")}function p(e){function n(n){e.iframe.style[n]=e[n]+"px",a(e.id,"IFrame ("+o+") "+n+" set to "+e[n]+"px")}function t(n){E||"0"!==e[n]||(E=!0,a(o,"Hidden iFrame detected, creating visibility listener"),x())}function i(e){n(e),t(e)}var o=e.iframe.id;L[o]&&(L[o].sizeHeight&&i("height"),L[o].sizeWidth&&i("width"))}function y(e,n,t){t!==n.type&&P?(a(n.id,"Requesting animation frame"),P(e)):e()}function v(e,n,t,i){function o(){a(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+")"),t.contentWindow.postMessage(T+n,c)}function r(){u(i,"["+e+"] IFrame("+i+") not found"),L[i]&&delete L[i]}i=i||t.id;var c=L[i].targetOrigin;t&&"contentWindow"in t?o():r()}function w(e){return e+":"+L[e].bodyMarginV1+":"+L[e].sizeWidth+":"+L[e].log+":"+L[e].interval+":"+L[e].enablePublicMethods+":"+L[e].autoResize+":"+L[e].bodyMargin+":"+L[e].heightCalculationMethod+":"+L[e].bodyBackground+":"+L[e].bodyPadding+":"+L[e].tolerance+":"+L[e].inPageLinks+":"+L[e].resizeFrom+":"+L[e].widthCalculationMethod}function k(e,t){function i(){function n(n){1/0!==L[k][n]&&0!==L[k][n]&&(e.style[n]=L[k][n]+"px",a(k,"Set "+n+" = "+L[k][n]+"px"))}function t(e){if(L[k]["min"+e]>L[k]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}function o(n){return V=n,""===n&&(e.id=n=(t.id||j.id)+O++,R=(t||{}).log,V=n,a(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}function r(){a(k,"IFrame scrolling "+(L[k].scrolling?"enabled":"disabled")+" for "+k),e.style.overflow=!1===L[k].scrolling?"hidden":"auto",e.scrolling=!1===L[k].scrolling?"no":"yes"}function u(){("number"==typeof L[k].bodyMargin||"0"===L[k].bodyMargin)&&(L[k].bodyMarginV1=L[k].bodyMargin,L[k].bodyMargin=""+L[k].bodyMargin+"px")}function s(){var n=L[k].firstRun,t=L[k].heightCalculationMethod in A;!n&&t&&b({iframe:e,height:0,width:0,type:"init"})}function f(){Function.prototype.bind&&(L[k].iframe.iFrameResizer={close:d.bind(null,L[k].iframe),resize:v.bind(null,"Window resize","resize",L[k].iframe),moveToAnchor:function(e){v("Move to anchor","inPageLink:"+e,L[k].iframe,k)},sendMessage:function(e){e=JSON.stringify(e),v("Send Message","message:"+e,L[k].iframe,k)}})}function l(t){function i(){v("iFrame.onload",t,e),s()}n(e,"load",i),v("init",t,e)}function m(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function g(e){for(var n in j)j.hasOwnProperty(n)&&(L[k][n]=e.hasOwnProperty(n)?e[n]:j[n])}function h(e){return""===e||"file://"===e?"*":e}function p(n){n=n||{},L[k]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},m(n),g(n),L[k].targetOrigin=!0===L[k].checkOrigin?h(L[k].remoteHost):"*"}function y(){return k in L&&"iFrameResizer"in e}var k=o(e.id);y()?c(k,"Ignored iFrame, already setup."):(p(t),r(),i(),u(),l(w(k)),f())}function F(e,n){null===q&&(q=setTimeout(function(){q=null,e()},n))}function M(e){return null!==e.offsetParent}function x(){function n(){function e(e){function n(n){return"0px"===L[e].iframe.style[n]}M(L[e].iframe)&&(n("height")||n("width"))&&v("Visibility change","resize",L[e].iframe,e)}for(var n in L)e(n)}function t(e){a("window","Mutation observed: "+e[0].target+" "+e[0].type),F(n,16)}function i(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new o(t);i.observe(e,n)}var o=e.MutationObserver||e.WebKitMutationObserver;o&&i()}function z(){function t(e){function n(){o("Window "+e,"resize")}a("window","Trigger event: "+e),F(n,16)}function i(){function e(){o("Tab Visable","resize")}"hidden"!==document.visibilityState&&(a("document","Trigger event: Visiblity change"),F(e,16))}function o(e,n){function t(e){return"parent"===L[e].resizeFrom&&L[e].autoResize&&!L[e].firstRun}for(var i in L)t(i)&&v(e,n,document.getElementById(i),i)}n(e,"message",f),n(e,"resize",function(){t("resize")}),n(document,"visibilitychange",i),n(document,"-webkit-visibilitychange",i),n(e,"focusin",function(){t("focus")}),n(e,"focus",function(){t("focus")})}function C(){function e(e,t){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">");k(t,e),n.push(t)}var n;return t(),z(),function i(t,o){switch(n=[],typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),e.bind(void 0,t));break;case"object":e(t,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return n}}function I($){$.fn.iFrameResize=function e(n){return this.filter("iframe").each(function(e,t){k(t,n)}).end()}}var O=0,R=!1,E=!1,S="message",N=S.length,T="[iFrameSizer]",H=T.length,W=null,P=e.requestAnimationFrame,A={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},L={},q=null,V="Host Page",j={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){c("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};e.jQuery&&I(jQuery),e.iFrameResize=e.iFrameResize||C()}(window||{}),function(e,n){var t=e.document.querySelector("#botd-iframe"),i=-1!==navigator.userAgent.indexOf("MSIE");e.iFrameResize({log:e._CMLS&&e._CMLS.debug?e._CMLS.debug:!1,checkOrigin:!1,heightCalculationMethod:i?"max":"lowestElement",tolerance:5},t)}(window);